//go:build checkmk_all || checkmk_v2_2_0

// Code generated by openapi-gen from CheckMK 1.0. DO NOT EDIT.
//
// API to Terraform field mappings for import state
//
// Source: mappings.gen.go
// Schemas: All (unfiltered)

package p1

// HostConfigFieldMappings maps Terraform field names to API response paths.
var HostConfigFieldMappings = map[string][]string{
	"host_name": {"id"}, // Host name from API id field
	"folder": {"extensions", "folder"}, // Folder path from extensions
	"attributes": {"extensions", "attributes"}, // Host attributes from extensions
}

// ExtractHostConfigField extracts a Terraform field value from a HostConfig API response.
// Returns nil if the path doesn't exist.
func ExtractHostConfigField(response map[string]interface{}, tfField string) interface{} {
	path, ok := HostConfigFieldMappings[tfField]
	if !ok {
		return nil
	}
	return extractNestedField(response, path)
}

// FolderFieldMappings maps Terraform field names to API response paths.
var FolderFieldMappings = map[string][]string{
	"name": {"id"}, // Folder ID/name
	"title": {"title"}, // Folder title
	"parent": {"extensions", "path"}, // Parent path from extensions
	"attributes": {"extensions", "attributes"}, // Folder attributes from extensions
}

// ExtractFolderField extracts a Terraform field value from a Folder API response.
// Returns nil if the path doesn't exist.
func ExtractFolderField(response map[string]interface{}, tfField string) interface{} {
	path, ok := FolderFieldMappings[tfField]
	if !ok {
		return nil
	}
	return extractNestedField(response, path)
}

// extractNestedField extracts a value from a nested map using a path.
func extractNestedField(data map[string]interface{}, path []string) interface{} {
	if len(path) == 0 {
		return data
	}

	current := data
	for i, key := range path {
		val, ok := current[key]
		if !ok {
			return nil
		}

		// If this is the last key, return the value
		if i == len(path)-1 {
			return val
		}

		// Otherwise, it must be a map to continue
		if nested, ok := val.(map[string]interface{}); ok {
			current = nested
		} else {
			return nil
		}
	}
	return nil
}
